<div class="form-group">
    <label class="col-sm-2 control-label">时间类型:</label>
    <div class="layui-input-block col-sm-6">
        <select name="type" class="form-control post-params item-left" lay-filter="type" id="type">
            <option value="1"
            <if condition="$type eq 1">selected</if>
            >按时间段</option>

            <option value="2"
            <if condition="$type eq 2">selected</if>
            >按天</option>
        </select>
    </div>
</div>


<div class="form-group">
    <label class="col-sm-2 control-label">优惠券类型:</label>
    <div class="layui-input-block col-sm-6">
        <select name="coupon_type" class="form-control post-params item-left" lay-filter="coupon_type" id="coupon_type">
            <option value="1"
            <if condition="$coupon_type eq 1">selected</if>
            >满减券</option>

            <option value="2"
            <if condition="$coupon_type eq 2">selected</if>
            >折扣券</option>
        </select>
    </div>
</div>


<div class="form-group">
    <label class="col-sm-2 control-label">优惠券名称:</label>
    <div class="layui-input-block col-sm-6">
        <input type="text" name="name" class="form-control post-params item-left" value="{$name|default=''}">
    </div>
</div>
<div class="form-group show_coupon_type show_coupon_type1">
    <label class="col-sm-2 control-label">满额:</label>
    <div class="layui-input-block col-sm-6">
        <input type="number" name="full_amount" class="form-control post-params item-left"
               value="{$full_amount|default=''}">
    </div>
</div>
<div class="form-group show_coupon_type show_coupon_type1">
    <label class="col-sm-2 control-label">面额:</label>
    <div class="layui-input-block col-sm-6">
        <input type="number" name="amount" class="form-control post-params item-left" value="{$amount|default=''}">
    </div>
</div>
<div class="form-group show_coupon_type show_coupon_type2">
    <label class="col-sm-2 control-label">折扣:</label>
    <div class="layui-input-block col-sm-6">
        <input type="number" name="discount" class="form-control post-params item-left" value="{$discount|default=''}">
    </div>
</div>


<div class="form-group show_type show_type1">
    <label class="col-sm-2 control-label">开始时间:</label>
    <div class="layui-input-block col-sm-6">
        <if condition="$start_time">
            <input class="form-control post-params item-left js-date" name="start_time"  type="text"
                   value="{$start_time|date='Y-m-d'}">
            <else/>
            <input class="form-control post-params item-left js-date" name="start_time"  type="text"
                   value="">
        </if>
    </div>
</div>
<div class="form-group show_type show_type1">
    <label class="col-sm-2 control-label">结束时间:</label>
    <div class="layui-input-block col-sm-6">
        <if condition="$end_time">
            <input class="form-control post-params item-left js-date" name="end_time"  type="text"
                   value="{$end_time|date='Y-m-d'}">
            <else/>
            <input class="form-control post-params item-left js-date" name="end_time"  type="text"
                   value="">
        </if>
    </div>
</div>

<div class="form-group show_type show_type2">
    <label class="col-sm-2 control-label">有效期(天):</label>
    <div class="layui-input-block col-sm-6">
        <input type="number" name="day" class="form-control post-params item-left" value="{$day|default=''}">
    </div>
</div>



<script>
    layui.use(['layer', 'form'], function () {
        let layer = layui.layer, form = layui.form;

        //时间类型
        const type = $("#type").val();
        setShow(type)
        form.on('select(type)', function (data) {
            setShow(data.value)
        })

        function setShow(type) {
            $('.show_type').css('display', 'none');
            $('.show_type' + type).css('display', 'block');
            //可以初始化值为空
        }



        //优惠券类型   折扣券,满减券
        const coupon_type = $("#coupon_type").val();
        setShow2(coupon_type)
        form.on('select(coupon_type)', function (data) {
            setShow2(data.value)
        })

        function setShow2(type) {
            $('.show_coupon_type').css('display', 'none');
            $('.show_coupon_type' + type).css('display', 'block');
            //可以初始化值为空
        }
    });
</script>
